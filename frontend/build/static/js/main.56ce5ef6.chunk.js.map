{"version":3,"sources":["reducers/index.js","reducers/user_reducer.js","reducers/societes_reducer.js","reducers/formulaires_reducer.js","actions/index.js","components/societeQuickView/formulairesQuickView.js","components/csvupdown/csvupdown.js","containers/homeContainer.js","containers/loginContainer.js","components/logout.js","containers/addSociete.js","components/formulaires/editFormulaire.js","containers/editFormulaireContainer.js","components/formulaires/addFormulaire.js","containers/addFormulaireContainer.js","containers/register.js","containers/societeGraphContainer.js","components/userSelector/userSelector.js","components/userSelector/userList.js","containers/societeContainer.js","containers/csvTestContainer.js","components/header/sidenav/sidenav_items.js","components/header/sidenav/sidenav.js","components/header/connectedUser.js","components/header/header.js","hoc/layout.js","hoc/auth.js","routes.js","index.js"],"names":["rootReducers","combineReducers","user","state","arguments","length","undefined","action","type","Object","objectSpread","login","payload","users","register","success","societes","list","societe","newSociete","updateSociete","doc","deleted","formulaires","formulaire","newFormulaire","updateFormulaire","getUsers","axios","get","then","response","data","getSociete","Id","params","id","getFormulairesBySociete","societeId","order","map","fData","EBITDA","CA","FA","CS","FG","AF","addFormulaire","post","FormulairesQuickView","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","renderFormulaireQuick","filter","item","itemDate","Date","date","dateBegin","dateEnd","react_default","a","createElement","key","_id","className","toLocaleDateString","onClick","handleFormulaireEdit","isUserSocAdmin","history","push","concat","admins","some","adm","handleDateStart","e","dateInput","target","value","isFinite","setState","handleDateEnd","style","fontWeight","adresse","PDC","es","to","react_fontawesome_lib_default","name","display","width","onChange","Component","CsvUpDown","handleselectedFile","event","selectedFile","files","loaded","submitForm","preventDefault","FormData","append","onUploadProgress","ProgressEvent","total","res","refreshFormulaires","getFormulairesCsv","console","log","hostURI","window","location","hostname","open","_this2","Fragment","onSubmit","htmlFor","refs","inputFile","click","ref","Math","round","HomeContainer","handleSelectSociete","selectedSocieteId","dispatch","renderSocietes","getSelectedSociete","formulairesQuickView","assign","csvupdown","connect","LoginContainer","handleInputEmail","email","handleInputPassword","password","_ref","loginUser","error","nextProps","isAuth","placeholder","message","Logout","request","setTimeout","AddSocieteContainer","formData","handleChange","newFormData","EditFormulaire","convertDateToHtml","inDate","tmpMonth","getMonth","slice","tmpDay","getDate","getFullYear","handleNumInput","numValue","parseInt","tmpState","handleDateInput","defineProperty","reqFormulaire","elem","toJSON","saveFormulaire","CCT","CLT","CF","Inv","disabled","deleteFormulaire","EditFormulaireContainer","sendUpdateFormulaire","confirm","delete","match","editFormulaire","renderFormulaire","AddFormulaire","handleNum","formId","handleDate","AddFormulaireContainer","form","SaveAllChanges","i","defaultFormulaire","formulaires_addFormulaire","renderFormulaires","Register","privileges","handleInputPrivileges","userList","_ref2","toConsumableArray","userRegister","showUsers","PureComponent","SocieteGraphContainer","toShow","tmpData","checked","formFields","keys","handleFieldSelect","_this3","linesColor","renderLines","Line","dataKey","stroke","ResponsiveContainer","aspect","LineChart","height","margin","top","right","left","bottom","XAxis","YAxis","CartesianGrid","strokeDasharray","Tooltip","Legend","renderFieldSelect","renderGraph","UserSelector","handleInput","tmpUsers","usr","returnUser","children","UserList","header","SocieteContainer","addSocAdmin","u","addSocUser","getUsersById","usersId","uid","deleteSociete","userSelector","userSelector_userList","CsvTestContainer","items","icon","text","link","restricted","admin","exclude","element","onHideNav","Nav","simple_sidenav_default","showNav","navStyle","background","maxWidth","sidenav_items","Header","color","padding","cursor","connectedUser","sidenav","Layout","hoc_auth","ComposedClass","reload","AuthenticationCheck","_Component","loading","inherits","createClass","Routes","layout","path","exact","component","Auth","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","react_redux_es","store","reducers","routes","document","getElementById"],"mappings":"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","file":"static/js/main.56ce5ef6.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\r\n\r\nimport user from './user_reducer.js';\r\nimport societes from './societes_reducer.js';\r\nimport formulaires from './formulaires_reducer.js';\r\n\r\nconst rootReducers = combineReducers({\r\n    user,\r\n    societes,\r\n    formulaires\r\n})\r\n\r\nexport default rootReducers;","export default function(state={},action){\r\n    switch(action.type){\r\n        case 'USER_LOGIN':\r\n            return {...state,login:action.payload}\r\n        case 'USER_AUTH':\r\n            return {...state,login:action.payload}\r\n        case 'GET_USER':\r\n            return {...state,users:action.payload}\r\n        case 'USER_REGISTER':\r\n            return {\r\n                ...state,\r\n                register:action.payload.success,\r\n                users:action.payload.users\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","export default function(state={},action){\r\n    switch(action.type){\r\n        case 'GET_SOCIETES':\r\n            return {...state, list:action.payload};\r\n        case 'CLEAR_SOCIETES':\r\n            return {...state, list:action.payload};\r\n        case 'GET_SOCIETE':\r\n            return {...state, societe:action.payload};\r\n        case 'ADD_SOCIETE':\r\n            return {...state, newSociete:action.payload};\r\n        case 'CLEAR_NEWSOCIETE':\r\n            return {...state, newSociete:action.payload};\r\n        case 'UPDATE_SOCIETE':\r\n            return {\r\n                    ...state,\r\n                    updateSociete:action.payload.success,\r\n                    societe:action.payload.doc\r\n                    };\r\n        case 'DELETE_SOCIETE':\r\n            return {...state, deleted:action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","export default function(state={},action){\r\n    switch(action.type){\r\n        case 'GET_FORMULAIRESBYSOCIETE':\r\n            return {...state, list:action.payload}\r\n        case 'GET_FORMULAIRE':\r\n            return {...state, formulaire:action.payload}\r\n        case 'CLEAR_FORMULAIRE':\r\n            return {...state, list:action.payload};\r\n        case 'ADD_FORMULAIRE':\r\n            return {...state, newFormulaire:action.payload};\r\n        case 'CLEAR_NEWFORMULAIRE':\r\n            return {...state, newFormulaire:action.payload};\r\n        case 'UPDATE_FORMULAIRE':\r\n            return {\r\n                    ...state,\r\n                    updateFormulaire:action.payload.success,\r\n                    formulaire:action.payload.doc\r\n                    };\r\n        case 'DELETE_FORMULAIRE':\r\n            return {...state, deleted:action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import axios from 'axios';\r\n\r\n//USER\r\nexport function loginUser({email,password}){\r\n    const request = axios.post('/api/login',{email,password})\r\n                .then(response => response.data);\r\n\r\n    return {\r\n        type:'USER_LOGIN',\r\n        payload:request\r\n    }\r\n}\r\n\r\nexport function auth(){\r\n    const request = axios.get('/api/auth')\r\n                .then(response => response.data);\r\n\r\n    return {\r\n        type:'USER_AUTH',\r\n        payload:request\r\n    }\r\n\r\n}\r\n\r\nexport function getUsers(){\r\n    const request = axios.get(`/api/users`)\r\n                    .then(response => response.data);\r\n        \r\n    return {\r\n        type:'GET_USER',\r\n        payload:request\r\n    }\r\n}\r\n\r\n\r\nexport function userRegister(user,userList){\r\n    const request = axios.post(`/api/register`,user);\r\n\r\n    return (dispatch) =>{\r\n        request.then(({data})=>{\r\n            let users = data.success ? [...userList,data.user]:userList;\r\n            let response = {\r\n                success:data.success,\r\n                users\r\n            }\r\n\r\n            dispatch({\r\n                type:'USER_REGISTER',\r\n                payload:response\r\n            })\r\n        })\r\n    }\r\n}\r\n\r\n//SOCIETE\r\nexport function getSocietes(){\r\n    const request = axios.get('/api/societesByUser').then(response => response.data);\r\n    //console.log(`/api/societesByUser?id=${userId}`);\r\n\r\n    return {\r\n        type: 'GET_SOCIETES',\r\n        payload: request\r\n    }\r\n}\r\nexport function clearSocietes(){\r\n    return {\r\n        type: 'CLEAR_SOCIETES',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport function getSociete(Id){\r\n    const request = axios.get('/api/getSociete', {\r\n        params: {\r\n            id: Id\r\n        }\r\n    }).then(response => response.data);\r\n\r\n    return {\r\n        type: 'GET_SOCIETE',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function addSociete(societe){\r\n    const request = axios.post('/api/societe',societe)\r\n        .then(response => response.data);\r\n\r\n    return {\r\n        type:'ADD_SOCIETE',\r\n        payload:request\r\n    }\r\n}\r\nexport function clearNewSociete(){\r\n    return {\r\n        type: 'CLEAR_NEWSOCIETE',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport function updateSociete(data){\r\n    const request = axios.post(`/api/updateSociete`,data)\r\n                .then(response => response.data);\r\n\r\n    return {\r\n        type:'UPDATE_SOCIETE',\r\n        payload:request\r\n    }\r\n}\r\n\r\nexport function deleteSociete(Id){\r\n    const request = axios.delete(`/api/deleteSociete`, {\r\n        params: {\r\n            id: Id\r\n        }\r\n    }).then(response => response.data);\r\n\r\n    return {\r\n        type:'DELETE_SOCIETE',\r\n        payload:request\r\n    }\r\n}\r\n\r\n//FORMULAIRE\r\nexport function getFormulairesBySociete(societeId, order){\r\n    const request = axios.get('/api/formulairesBySociete', {\r\n        params: {\r\n            id: societeId,\r\n            order: order\r\n        }\r\n    }).then(response => {\r\n        return( response.data.map(fData => {\r\n            return({\r\n                ...fData,\r\n                EBITDA: fData.CA - fData.FA - fData.CS - fData.FG - fData.AF\r\n            })\r\n        }))\r\n    });\r\n\r\n    return {\r\n        type: 'GET_FORMULAIRESBYSOCIETE',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function getFormulaire(id){\r\n    const request = axios.get('/api/getFormulaire', {\r\n        params: {\r\n            id: id\r\n        }\r\n    }).then(response => {\r\n        const fData = response.data;\r\n            return({\r\n                ...fData,\r\n                EBITDA: fData.CA - fData.FA - fData.CS - fData.FG - fData.AF\r\n            })\r\n    });\r\n\r\n    return {\r\n        type: 'GET_FORMULAIRE',\r\n        payload: request\r\n    }\r\n}\r\n\r\nexport function clearFormulaires(){\r\n    return {\r\n        type: 'CLEAR_FORMULAIRES',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport function addFormulaire(formulaire){\r\n    const request = axios.post('/api/formulaire',formulaire)\r\n        .then(response => response.data);\r\n\r\n    return {\r\n        type:'ADD_FORMULAIRE',\r\n        payload:request\r\n    }\r\n}\r\nexport function clearNewFormulaire(){\r\n    return {\r\n        type: 'CLEAR_NEWFORMULAIRE',\r\n        payload: {}\r\n    }\r\n}\r\n\r\nexport function updateFormulaire(data){\r\n    const request = axios.post(`/api/updateFormulaire`,data)\r\n                .then(response => response.data);\r\n\r\n    return {\r\n        type:'UPDATE_FORMULAIRE',\r\n        payload:request\r\n    }\r\n}\r\n\r\nexport function deleteFormulaire(id){\r\n    const request = axios.delete(`/api/deleteFormulaire?id=${id}`)\r\n                    .then(response => response.data);\r\n\r\n    return {\r\n        type:'DELETE_FORMULAIRE',\r\n        payload:request\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport FontAwesome from 'react-fontawesome';\r\n\r\nclass FormulairesQuickView extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            dateBegin: new Date('1970-01-01'),\r\n            dateEnd: new Date('3000-01-01')\r\n        }\r\n    }\r\n\r\n    renderFormulaireQuick = (formulaires) => {\r\n        //const dateBegin = new Date('2018-01-01');\r\n        //const dateEnd = new Date('2020-02-02');\r\n        return(\r\n            formulaires.list ?\r\n\r\n            formulaires.list.filter( (item) => {\r\n                const itemDate = new Date(item.date);\r\n                return(itemDate >= this.state.dateBegin && itemDate <= this.state.dateEnd)\r\n            }).map( (item) => {\r\n                return(\r\n                    <tr key={item._id}>\r\n                        <td className=\"Date\">{new Date(item.date).toLocaleDateString()}</td>\r\n                        <td className=\"Button\">\r\n                            <a onClick={() => this.handleFormulaireEdit(item._id)}>\r\n                                {this.isUserSocAdmin() ? 'Editer' : 'Voir'}\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                );\r\n            })\r\n\r\n            : null\r\n        );\r\n    }\r\n\r\n    handleFormulaireEdit = (id) => {\r\n        //console.log(\"SHOULD EDIT FORMULAIRE: \"+id);\r\n        this.props.history.push(`/formulaire/${id}`)\r\n    }\r\n\r\n    isUserSocAdmin = () => {\r\n        //console.log(this.props.user)\r\n        if(!this.props.societe){return false}\r\n        if(this.props.societe.admins.some(adm => {return adm === this.props.user.login.id})){\r\n            //console.log(\"USER IS ADMIN\")\r\n            return true;\r\n        }\r\n        else{\r\n            //console.log(\"USER IS USER\")\r\n            return false;\r\n        }\r\n    }\r\n\r\n    handleDateStart = (e) => {\r\n        const dateInput = new Date(e.target.value);\r\n        //console.log(dateInput instanceof Date && isFinite(dateInput));\r\n        if(dateInput instanceof Date && isFinite(dateInput)){\r\n            \r\n            this.setState({\r\n                ...this.state,\r\n                dateBegin: dateInput\r\n            })\r\n        }\r\n        else\r\n        {\r\n            this.setState({\r\n                ...this.state,\r\n                dateBegin: new Date('1970-01-01')\r\n            })\r\n        }\r\n    }\r\n    handleDateEnd = (e) => {\r\n        const dateInput = new Date(e.target.value);\r\n        if(dateInput instanceof Date && isFinite(dateInput)){\r\n            this.setState({\r\n                ...this.state,\r\n                dateEnd: dateInput\r\n            })\r\n        }\r\n        else\r\n        {\r\n            this.setState({\r\n                ...this.state,\r\n                dateEnd: new Date('3000-01-01')\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"FQV\">\r\n                <div className=\"Head\">\r\n                    <div className=\"Info\">\r\n                        <div>\r\n                            <div style={{fontWeight: '600'}}>Adresse</div>\r\n                            <div style={{fontWeight: '600'}}>Personne de contact</div>\r\n                        </div>\r\n                        <div>\r\n                            <div>   :   </div>\r\n                            <div>   :   </div>\r\n                        </div>\r\n                        <div>\r\n                            <div>{(this.props.societe.adresse && this.props.societe.adresse !== '') ? this.props.societe.adresse : 'Non renseignée'}</div>\r\n                            <div>{(this.props.societe.PDC && this.props.societe.PDC !== '') ? this.props.societe.PDC : 'Non renseignée'}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"Buttons\">\r\n                        <Link className=\"Btn\" to={`/societe/${this.props.societe._id}`}><FontAwesome name='edit'/></Link>\r\n                        <Link className=\"Btn\" to={`/societeGraph/${this.props.societe._id}`}><FontAwesome name='line-chart'/></Link>\r\n                    </div>\r\n                </div>\r\n                <div className=\"Body\">\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th className=\"DateHeader\">\r\n                                    <div className=\"DateInputs\">\r\n                                        <label style={{display:'inline-block', width:'2em'}}>Du </label><input type=\"date\" onChange={this.handleDateStart}/>\r\n                                    </div>\r\n                                    <div className=\"DateInputs\">\r\n                                        <label style={{display:'inline-block', width:'2em'}}>au </label><input type=\"date\" onChange={this.handleDateEnd}/>\r\n                                    </div>\r\n                                </th>\r\n                                <th>\r\n                                    {this.isUserSocAdmin() ? \r\n                                    <Link className=\"ButtonNew\" style={{display:'block'}} to={`/addFormulaires/${this.props.societe._id}`}>Nouveau formulaire</Link>\r\n                                    : null}\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.renderFormulaireQuick(this.props.formulaires)}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FormulairesQuickView;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n class CsvUpDown extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedFile: null,\r\n            loaded: 0,\r\n            //societeId: '5c4f28897e19e41c4c4fc80d'\r\n        }\r\n    }\r\n\r\n    handleselectedFile = (event) => {\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n            //societeId: '5c4f28897e19e41c4c4fc80d'\r\n        })\r\n    }\r\n\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(this.state.selectedFile){\r\n            const data = new FormData();\r\n            data.append('file', this.state.selectedFile, this.state.selectedFile.name)\r\n            data.append('societeId', this.props.societeId)\r\n\r\n            axios\r\n            .post('/api/CSVFormulaires', data, {\r\n                onUploadProgress: ProgressEvent => {\r\n                this.setState({\r\n                    loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100,\r\n                })\r\n                },\r\n            })\r\n            .then(res => {\r\n                //console.log(res)\r\n                this.props.refreshFormulaires();\r\n            })\r\n        }\r\n    }\r\n\r\n    getFormulairesCsv = () => {\r\n        axios.get('/api/CSVformulairesBySociete', {\r\n            params: {\r\n                id: this.props.societeId,\r\n                order: 'asc'\r\n            }\r\n        }).then(response => {\r\n            //this.props.history.push()\r\n            console.log(response);\r\n            //this.props.history.push(response.data);\r\n            const hostURI = 'http://' + window.location.hostname;\r\n            window.open(hostURI + response.data);\r\n        });\r\n    \r\n    }\r\n\r\n    isUserSocAdmin = () => {\r\n        //console.log(this.props.user)\r\n        if(!this.props.societe){return false}\r\n        if(this.props.societe.admins.some(adm => {return adm === this.props.user.login.id})){\r\n            //console.log(\"USER IS ADMIN\")\r\n            return true;\r\n        }\r\n        else{\r\n            //console.log(\"USER IS USER\")\r\n            return false;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n            {this.isUserSocAdmin() ? \r\n                <div className=\"CSVContainer\">\r\n                    <form onSubmit={this.submitForm}>\r\n                        <h2>Import/export de formulaires CSV</h2>\r\n                        <label htmlFor=\"file\" className=\"labelFile\" onClick={(e) => this.refs.inputFile.click()}>Sélectionner le fichier CSV</label>\r\n                        <input type=\"file\" name=\"file\" className=\"inputFile\" onChange={this.handleselectedFile} ref=\"inputFile\"/>\r\n                        {/*<button type=\"submit\">Upload</button>*/}\r\n                        <div className=\"Btn\">\r\n                            <a onClick={this.submitForm}>Uploader</a> \r\n                        </div>\r\n                        <p>{Math.round(this.state.loaded, 2)} % uploadé</p>\r\n                    </form>\r\n                    <div className=\"Buttons\">\r\n                        <div className=\"Btn\">\r\n                            <a onClick={this.getFormulairesCsv}>Obtenir les formulaires au format CSV</a> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            :\r\n                null\r\n            }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CsvUpDown;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getSocietes, getFormulairesBySociete } from '../actions';\r\n\r\nimport FormulairesQuickView from '../components/societeQuickView/formulairesQuickView.js';\r\nimport CsvUpDown from '../components/csvupdown/csvupdown.js';\r\n\r\n class HomeContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedSocieteId: ''\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n    //componentWillReceiveProps(nextProps){\r\n        if(this.props.user){\r\n            this.props.dispatch(getSocietes());\r\n            //console.log(\"USERS ID: \"+this.props.user.login.id);\r\n        }\r\n        //this.props.dispatch(getSocietes(''));\r\n    }\r\n\r\n    handleSelectSociete = (event) => {\r\n        this.setState({selectedSocieteId: event.target.value});\r\n        //console.log(this.state.selectedSociete);\r\n        this.props.dispatch(getFormulairesBySociete(event.target.value, 'desc'));\r\n    }\r\n\r\n    renderSocietes = (societes) => {\r\n        return(\r\n        societes.list && societes.list.length ?\r\n\r\n        societes.list.map( (item) => {\r\n            //return(<p key={item._id}>{item.name}</p>);\r\n            return(\r\n                <option key={item._id} value={item._id}>\r\n                    {item.name}\r\n                </option>\r\n            );\r\n        })\r\n\r\n        : null\r\n        );\r\n    }\r\n\r\n    getSelectedSociete = () => {\r\n        return(\r\n            this.props.societes.list ?\r\n    \r\n            this.props.societes.list.filter( (item) => {\r\n                return item._id === this.state.selectedSocieteId;\r\n            })[0]\r\n    \r\n            : null);\r\n    }\r\n\r\n    refreshFormulaires = () => {\r\n        this.props.dispatch(getFormulairesBySociete(this.state.selectedSocieteId, 'desc'));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"PageContent\">\r\n                <form>\r\n                    <div className=\"SS\">\r\n                    <label htmlFor=\"societeSelect\">Choisissez la société</label>\r\n                    <select id='societeSelect' value={this.state.selectedSocieteId} onChange={this.handleSelectSociete}>\r\n                        <option value='' />\r\n                        {this.renderSocietes(this.props.societes)}\r\n                    </select>\r\n                    </div>\r\n                </form>\r\n                { \r\n                    this.state.selectedSocieteId !== '' ?\r\n                        <FormulairesQuickView formulaires={this.props.formulaires} societe={this.getSelectedSociete()} {...this.props}/>\r\n                    :\r\n                        null\r\n                }\r\n                { \r\n                    this.state.selectedSocieteId !== '' ?\r\n                        <CsvUpDown societeId={this.state.selectedSocieteId} societe={this.getSelectedSociete()} refreshFormulaires={this.refreshFormulaires} {...this.props} />\r\n                    :\r\n                        null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        societes: state.societes,\r\n        formulaires: state.formulaires\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(HomeContainer);","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loginUser } from '../actions';\r\n\r\nclass LoginContainer extends Component {\r\n    \r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            email:'',\r\n            password:'',\r\n            error:'',\r\n            success:false\r\n        }\r\n    }\r\n\r\n    handleInputEmail = (event) => {\r\n        this.setState({email:event.target.value})\r\n    }\r\n    handleInputPassword = (event) => {\r\n        this.setState({password:event.target.value})\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.user.login.isAuth){\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n\r\n\r\n    submitForm = (e) =>{\r\n        e.preventDefault();\r\n        this.props.dispatch(loginUser(this.state))\r\n    }\r\n\r\n    render() {\r\n        let user = this.props.user;\r\n        return (\r\n            <div className=\"PageContent\">\r\n                <div className=\"rl_container article\">\r\n                    <form onSubmit={this.submitForm}>\r\n                        <h2>Veuillez vous connecter</h2>\r\n\r\n                        <div className=\"form_element\">\r\n                            <input \r\n                                type=\"email\"\r\n                                placeholder=\"Adresse email\"\r\n                                value={this.state.email}\r\n                                onChange={this.handleInputEmail}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form_element\">\r\n                            <input \r\n                                type=\"password\"\r\n                                placeholder=\"Mot de passe\"\r\n                                value={this.state.password}\r\n                                onChange={this.handleInputPassword}\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\">Connexion</button>\r\n\r\n                        <div className=\"error\">\r\n                        {\r\n                            user.login ? \r\n                                <div>{user.login.message}</div>\r\n                            :null\r\n                        }\r\n                        </div>\r\n\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        user:state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginContainer)","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Logout = (props) => {\r\n\r\n    let request = axios.get('/api/logout')\r\n    .then(request => {\r\n        setTimeout(()=>{\r\n            props.history.push('/');\r\n        }, 1000);\r\n    });\r\n\r\n    return (\r\n        <div className=\"logout_container\">\r\n            <h1>Déconnexion en cours</h1>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logout\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { addSociete } from '../actions';\r\n\r\n class AddSocieteContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state= {\r\n            formData:{\r\n                name:'',\r\n                adresse:'',\r\n                PDC:''\r\n                //ADMINS ET USERS\r\n            }\r\n        }\r\n    }\r\n\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n        this.props.dispatch(addSociete({\r\n            ...this.state.formData,\r\n            admins:[this.props.user.login.id]\r\n        }));\r\n\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    handleChange = (event, name) => {\r\n        const newFormData = {\r\n            ...this.state.formData\r\n        }\r\n        newFormData[name] = event.target.value;\r\n\r\n        this.setState({\r\n            formData: newFormData\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"PageContent\">\r\n                <div className=\"rl_container article\">\r\n                    <form onSubmit={this.submitForm}>\r\n                        <h2>Nouvelle société</h2>\r\n\r\n                        <div className=\"form_element\">\r\n                            <input type=\"text\"\r\n                            placeholder=\"Nom\"\r\n                            value={this.state.formData.name}\r\n                            onChange={(event) => this.handleChange(event, 'name')}/>\r\n                        </div>\r\n                        <div className=\"form_element\">\r\n                            <input type=\"text\"\r\n                            placeholder=\"Adresse\"\r\n                            value={this.state.formData.adresse}\r\n                            onChange={(event) => this.handleChange(event, 'adresse')}/>\r\n                        </div>\r\n                        <div className=\"form_element\">\r\n                            <input type=\"text\"\r\n                            placeholder=\"Personne de contact\"\r\n                            value={this.state.formData.PDC}\r\n                            onChange={(event) => this.handleChange(event, 'PDC')}/>\r\n                        </div>\r\n                        <button type=\"submit\">Enregistrer</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        societe: state.societes\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddSocieteContainer);","import React, { Component } from 'react'\r\n\r\nclass EditFormulaire extends Component {\r\n\r\n    convertDateToHtml = (inDate) => {\r\n        let date = new Date(inDate);\r\n        //(\"0\" + (this.getMonth() + 1)).slice(-2)\r\n        let tmpMonth = ('0' + (date.getMonth()+1)).slice(-2);\r\n        let tmpDay = ('0' + (date.getDate())).slice(-2);\r\n        let htmlDate = date.getFullYear()+'-'+tmpMonth+'-'+tmpDay;\r\n\r\n        //console.log('DATE IS: '+ htmlDate + \" FROM: \" + inDate)\r\n\r\n        return htmlDate;\r\n    }\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        props.formulaire ?\r\n            this.state = {\r\n                //formdata:{\r\n                    _id:props.formulaire._id,\r\n                    societeId:props.formulaire.societeId,\r\n                    date:this.convertDateToHtml(props.formulaire.date),\r\n                    CA:props.formulaire.CA,\r\n                    FA:props.formulaire.FA,\r\n                    CS:props.formulaire.CS,\r\n                    FG:props.formulaire.FG,\r\n                    AF:props.formulaire.AF,\r\n                    EBITDA:props.formulaire.EBITDA,\r\n                    CCT:props.formulaire.CCT,\r\n                    CLT:props.formulaire.CLT,\r\n                    CF:props.formulaire.CF,\r\n                    Inv:props.formulaire.Inv\r\n                //}\r\n            }\r\n            \r\n        :\r\n            this.state = {\r\n                //formdata:{\r\n                    _id:'',\r\n                    societeId:this.props.societeId,\r\n                    date:'',\r\n                    CA:'',\r\n                    FA:'',\r\n                    CS:'',\r\n                    FG:'',\r\n                    AF:'',\r\n                    EBITDA:'',\r\n                    CCT:'',\r\n                    CLT:'',\r\n                    CF:'',\r\n                    Inv:''\r\n                //}\r\n            }\r\n\r\n        //console.log(this.state.date)\r\n    }\r\n\r\n    //METTRE A JOUR LE STATE\r\n    handleNumInput = (event,name) => {\r\n        /*let numValue = event.target.value !== \"\" ? parseInt(event.target.value) : \"\"\r\n        this.setState({[name]:numValue});\r\n        let tmpEBITDA = (\r\n            this.state['CA'] - \r\n            this.state['FA'] - \r\n            this.state['CS'] - \r\n            this.state['FG'] - \r\n            this.state['AF']\r\n        );\r\n        this.setState({EBITDA: tmpEBITDA});*/\r\n        let numValue = event.target.value !== \"\" ? parseInt(event.target.value) : \"\"\r\n        let tmpState = this.state;\r\n        tmpState[name] = numValue;\r\n        tmpState['EBITDA'] = (\r\n            tmpState['CA'] - \r\n            tmpState['FA'] - \r\n            tmpState['CS'] - \r\n            tmpState['FG'] - \r\n            tmpState['AF']\r\n        );\r\n        this.setState(tmpState);\r\n    }\r\n    handleDateInput = (event,name) => {\r\n        this.setState({[name]:event.target.value});\r\n        console.log('NEW DATE IS: '+event.target.value)\r\n        //console.log(this.state.date)\r\n    }\r\n\r\n    //DEMANDER AU COMPONENT PARENT D'UPDATEFORMULAIRE\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n        //this.props.dispatch(updateBook(this.state.formdata))\r\n\r\n        let reqFormulaire = {...this.state};\r\n        reqFormulaire.date = new Date(reqFormulaire.date).toJSON();\r\n\r\n        for(let elem in reqFormulaire)\r\n        {\r\n            if(reqFormulaire[elem] === \"\"){\r\n                delete reqFormulaire[elem];\r\n            } \r\n        }\r\n\r\n        this.props.saveFormulaire(reqFormulaire);\r\n        //console.log(this.state.formdata);\r\n    }\r\n\r\n    render() {\r\n        //console.log('STATE DATE: '+this.state.date);\r\n        //console.log(this.props)\r\n        return (\r\n            <div className=\"EditForm\">\r\n            <form onSubmit={this.submitForm}>\r\n                    <h2>Edition du formulaire</h2>\r\n                    \r\n                    <div className=\"form_element\">\r\n                        <label>Date : </label>\r\n                        <input\r\n                            id=\"dateIn\"\r\n                            type=\"date\"\r\n                            value={this.state.date}\r\n                            onChange={(event)=>this.handleDateInput(event,'date')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form_element\">\r\n                        <label>Chiffre d'affaire : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Chiffre d'affaire\"\r\n                            value={this.state.CA}\r\n                            onChange={(event)=>this.handleNumInput(event,'CA')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Frais d'achats : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Frais d'achats\"\r\n                            value={this.state.FA}\r\n                            onChange={(event)=>this.handleNumInput(event,'FA')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Charges salariales : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Charges salariales\"\r\n                            value={this.state.CS}\r\n                            onChange={(event)=>this.handleNumInput(event,'CS')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Frais généraux : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Frais généraux\"\r\n                            value={this.state.FG}\r\n                            onChange={(event)=>this.handleNumInput(event,'FG')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Autres frais : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Autres frais\"\r\n                            value={this.state.AF}\r\n                            onChange={(event)=>this.handleNumInput(event,'AF')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>EBITDA : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"EBITDA\"\r\n                            value={this.state.EBITDA}\r\n                            onChange={(event)=>this.handleNumInput(event,'EBITDA')}\r\n                            disabled={this.props.disabled}\r\n                            disabled\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Crédits à court termes : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Crédits court termes\"\r\n                            value={this.state.CCT}\r\n                            onChange={(event)=>this.handleNumInput(event,'CCT')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Crédits à long termes : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Crédits long termes\"\r\n                            value={this.state.CLT}\r\n                            onChange={(event)=>this.handleNumInput(event,'CLT')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Cashflow : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Cashflow\"\r\n                            value={this.state.CF}\r\n                            onChange={(event)=>this.handleNumInput(event,'CF')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form_element\">\r\n                        <label>Investissements : </label>\r\n                        <input\r\n                            type=\"number\"\r\n                            placeholder=\"Investissements\"\r\n                            value={this.state.Inv}\r\n                            onChange={(event)=>this.handleNumInput(event,'Inv')}\r\n                            disabled={this.props.disabled}\r\n                        />\r\n                    </div>\r\n\r\n                    {this.props.disabled !== 'disabled' ? \r\n                    <div className=\"Buttons\">\r\n                        <div className=\"Btn\">\r\n                            <a onClick={this.submitForm}>Enregistrer</a> \r\n                        </div>\r\n\r\n                        <div className=\"Btn\">\r\n                                <a onClick={this.props.deleteFormulaire}>Supprimer le formulaire</a>\r\n                        </div>\r\n                    </div>\r\n                    : null}\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  EditFormulaire","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getFormulaire, getSociete, addFormulaire, updateFormulaire, deleteFormulaire } from '../actions';\r\n\r\nimport EditFormulaire from '../components/formulaires/editFormulaire.js';\r\n\r\n class EditFormulaireContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.dispatch(getFormulaire(this.props.match.params.id)).then((res) => {\r\n            //console.log(res);\r\n            this.props.dispatch(getSociete(res.payload.societeId))\r\n        });\r\n        \r\n    }\r\n\r\n    //FONCTION UPDATEFORMULAIRE(FORMULAIRE)\r\n    sendUpdateFormulaire = (formulaire) => {\r\n        formulaire._id ?\r\n            this.props.dispatch(updateFormulaire(formulaire))\r\n        :\r\n            this.props.dispatch(addFormulaire(formulaire));\r\n\r\n        //console.log(formulaire);\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    deleteFormulaire = () => {\r\n        if(window.confirm(\"Le formulaire va être supprimé. \\nÊtes-vous sûr de votre choix? (ce changement est définitif)\")){\r\n            //console.log(this.props.formulaire)\r\n            /*\r\n            this.props.dispatch(deleteSociete(this.props.formulaire._id))\r\n            redirect\r\n            */\r\n           this.props.dispatch(deleteFormulaire(this.props.formulaire._id));\r\n           this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    isUserSocAdmin = () => {\r\n        if(!this.props.societe){return false}\r\n        if(this.props.societe.admins.some(adm => {return adm === this.props.user.login.id})){\r\n            //console.log(\"USER IS ADMIN\")\r\n            return true;\r\n        }\r\n        else{\r\n            //console.log(\"USER IS USER\")\r\n            return false;\r\n        }\r\n    }\r\n\r\n    renderFormulaire(){\r\n        return(\r\n            this.props.formulaire ?\r\n\r\n                <EditFormulaire key={this.props.formulaire._id}\r\n                societeId={this.props.formulaire.societeId} \r\n                saveFormulaire={this.sendUpdateFormulaire}\r\n                deleteFormulaire={this.deleteFormulaire}\r\n                formulaire={this.props.formulaire}\r\n                disabled={(this.isUserSocAdmin() ? '' : \"disabled\")}/>\r\n\r\n            : null\r\n        );\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        return (\r\n            <div className=\"PageContent\">\r\n                <div className=\"rl_container EditFormContainer\">\r\n                    {this.renderFormulaire()}\r\n                    {/*this.isUserSocAdmin() ? \r\n                    <div className=\"Btn\">\r\n                        <a onClick={this.sendUpdateFormulaire}>Enregistrer</a> \r\n                    </div>\r\n                    : null}\r\n                    {this.isUserSocAdmin() ? \r\n                    <div className=\"Btn\">\r\n                            <a onClick={this.deleteFormulaire}>Supprimer le formulaire</a>\r\n                    </div>\r\n                    : null*/}\r\n                </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        formulaire: state.formulaires.formulaire,\r\n        societe: state.societes.societe\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(EditFormulaireContainer);","import React, { Component } from 'react'\r\n\r\nconst AddFormulaire = (props) => {\r\n\r\n    const convertDateToHtml = (inDate) => {\r\n        let date = new Date(inDate);\r\n        let tmpMonth = ('0' + (date.getMonth()+1)).slice(-2);\r\n        let tmpDay = date.getDate();\r\n        let htmlDate = date.getFullYear()+'-'+tmpMonth+'-'+tmpDay;\r\n        return htmlDate;\r\n    }\r\n\r\n    //METTRE A JOUR LE STATE\r\n    const handleNumInput = (event,name) => {\r\n        props.handleNum(props.formId, event.target.value, name)\r\n    }\r\n    const handleDateInput = (event,name) => {\r\n        props.handleDate(props.formId, event.target.value, name)\r\n    }\r\n\r\n    //DEMANDER AU COMPONENT PARENT D'UPDATEFORMULAIRE\r\n    const submitForm = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <div className=\"AddFormContainer\">\r\n        <form onSubmit={submitForm}>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        id=\"dateIn\"\r\n                        type=\"date\"\r\n                        value={props.date}\r\n                        onChange={(event)=>handleDateInput(event,'date')}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Chiffre d'affaire\"\r\n                        value={props.CA}\r\n                        onChange={(event)=>handleNumInput(event,'CA')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Frais d'achats\"\r\n                        value={props.FA}\r\n                        onChange={(event)=>handleNumInput(event,'FA')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Charges salariales\"\r\n                        value={props.CS}\r\n                        onChange={(event)=>handleNumInput(event,'CS')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Frais généraux\"\r\n                        value={props.FG}\r\n                        onChange={(event)=>handleNumInput(event,'FG')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Autres frais\"\r\n                        value={props.AF}\r\n                        onChange={(event)=>handleNumInput(event,'AF')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"EBITDA\"\r\n                        value={props.EBITDA}\r\n                        onChange={(event)=>handleNumInput(event,'EBITDA')}\r\n                        disabled\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Crédits court terme\"\r\n                        value={props.CCT}\r\n                        onChange={(event)=>handleNumInput(event,'CCT')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Crédits long terme\"\r\n                        value={props.CLT}\r\n                        onChange={(event)=>handleNumInput(event,'CLT')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Cashflow\"\r\n                        value={props.CF}\r\n                        onChange={(event)=>handleNumInput(event,'CF')}\r\n                    />\r\n                </div>\r\n                <div className=\"form_element\">\r\n                    \r\n                    <input\r\n                        type=\"number\"\r\n                        placeholder=\"Investissements\"\r\n                        value={props.Inv}\r\n                        onChange={(event)=>handleNumInput(event,'Inv')}\r\n                    />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  AddFormulaire","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { addFormulaire, getSociete } from '../actions';\r\n\r\nimport AddFormulaire from '../components/formulaires/addFormulaire.js';\r\n\r\n class AddFormulaireContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            formulaires: [\r\n                {\r\n                    societeId:this.props.match.params.id,\r\n                    date:'',\r\n                    CA:'',\r\n                    FA:'',\r\n                    CS:'',\r\n                    FG:'',\r\n                    AF:'',\r\n                    EBITDA:'',\r\n                    CCT:'',\r\n                    CLT:'',\r\n                    CF:'',\r\n                    Inv:''\r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\n    handleNumInput = (form,value,name) => {\r\n        let numValue = value !== \"\" ? parseInt(value) : \"\";\r\n        let tmpState = this.state;\r\n        tmpState.formulaires[form][name] = numValue;\r\n        tmpState.formulaires[form]['EBITDA'] = (\r\n            tmpState.formulaires[form]['CA'] - \r\n            tmpState.formulaires[form]['FA'] - \r\n            tmpState.formulaires[form]['CS'] - \r\n            tmpState.formulaires[form]['FG'] - \r\n            tmpState.formulaires[form]['AF']\r\n        );\r\n        this.setState(tmpState);\r\n        \r\n    }\r\n    handleDateInput = (form,value,name) => {\r\n\r\n        //console.log('NEW DATE IS: '+value)\r\n        //this.setState({[name]:value});\r\n        let tmpState = this.state;\r\n        tmpState.formulaires[form][name] = value;\r\n        this.setState(tmpState);\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.dispatch(getSociete(this.props.match.params.id));\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        //console.log(nextProps);\r\n    }\r\n    componentDidUpdate(){\r\n        //console.log(this.props);\r\n        if(this.props.societe && !this.isUserSocAdmin()){\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    convertDateToHtml = (inDate) => {\r\n        let date = new Date(inDate);\r\n        let tmpMonth = ('0' + (date.getMonth()+1)).slice(-2);\r\n        let tmpDay = date.getDate();\r\n        let htmlDate = date.getFullYear()+'-'+tmpMonth+'-'+tmpDay;\r\n        return htmlDate;\r\n    }\r\n\r\n    sendUpdateFormulaire = (formulaire) => {\r\n        let reqFormulaire = formulaire;\r\n        reqFormulaire.date = new Date(reqFormulaire.date).toJSON();\r\n\r\n        for(let elem in reqFormulaire)\r\n        {\r\n            if(reqFormulaire[elem] === \"\"){\r\n                delete reqFormulaire[elem];\r\n            } \r\n        }\r\n\r\n        this.props.dispatch(addFormulaire(reqFormulaire));\r\n        //Indiquer si il y a une erreur ou non, enlever les formulaires correctement ajoutés\r\n    }\r\n\r\n    SaveAllChanges = () => {\r\n        //console.log(this.state);\r\n\r\n        for(let i in this.state.formulaires)\r\n        {\r\n            //console.log('FORMULAIRE DATA TO ADD: '+ this.state.formulaires[i]);\r\n            this.sendUpdateFormulaire(this.state.formulaires[i]);\r\n        }\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    AddFormulaire = () => {\r\n        const defaultFormulaire = {\r\n            societeId:this.props.match.params.id,\r\n            date:'',\r\n            CA:'',\r\n            FA:'',\r\n            CS:'',\r\n            FG:'',\r\n            AF:'',\r\n            EBITDA:'',\r\n            CCT:'',\r\n            CLT:'',\r\n            CF:'',\r\n            Inv:''\r\n        }\r\n\r\n        //this.setState({...this.state, defaultFormulaire})\r\n        let tmpState = this.state;\r\n        tmpState.formulaires.push(defaultFormulaire);// = {...tmpState.formulaires, defaultFormulaire};\r\n\r\n        this.setState(tmpState);\r\n\r\n        //console.log(this.state);\r\n    }\r\n\r\n    isUserSocAdmin = () => {\r\n        if(!this.props.societe){return false}\r\n        if(this.props.societe.admins.some(adm => {return adm === this.props.user.login.id})){\r\n            //console.log(\"USER IS ADMIN\")\r\n            return true;\r\n        }\r\n        else{\r\n            //console.log(\"USER IS USER\")\r\n            return false;\r\n        }\r\n    }\r\n\r\n    renderFormulaires(){\r\n        return(\r\n            this.state.formulaires.map((item, i) => {\r\n                return(\r\n                    <AddFormulaire key={i} formId={i} {...item} handleNum={this.handleNumInput} handleDate={this.handleDateInput}/>\r\n                );\r\n            })\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if(this.isUserSocAdmin()){\r\n        return (\r\n            <div className=\"AddFormPageContent\">\r\n                <h2>Ajout de formulaires</h2>\r\n                <div className=\"AddFormList\">\r\n                    {this.renderFormulaires()}\r\n                </div>\r\n                <div className=\"Btn\">\r\n                    <a onClick={this.SaveAllChanges}>Enregistrer</a>\r\n                    <a onClick={this.AddFormulaire}>Ajouter un formulaire</a>    \r\n                </div>\r\n            </div>\r\n        )\r\n        }\r\n        else{return null}\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        societe: state.societes.societe\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(AddFormulaireContainer);","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getUsers, userRegister } from '../actions';\r\n\r\nclass Register extends PureComponent {\r\n\r\n    state ={\r\n        email:'',\r\n        password:'',\r\n        privileges:0,\r\n        error:''\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.dispatch(getUsers())\r\n    }\r\n\r\n\r\n    handleInputEmail = (event) => {\r\n        this.setState({email:event.target.value})\r\n    } \r\n    handleInputPassword= (event) => {\r\n        this.setState({password:event.target.value})\r\n    } \r\n    handleInputPrivileges = (event) => {\r\n        let numValue = event.target.value === \"1\" ? 1 : 0;\r\n        this.setState({privileges:numValue})\r\n    } \r\n\r\n    componentWillReceiveProps(nextProps){\r\n        if(nextProps.user.register === false){\r\n            this.setState({error:'Error,try again'})\r\n        } else{\r\n            this.setState({\r\n                email:'',\r\n                password:'',\r\n                privileges:0\r\n            })\r\n        }\r\n    }\r\n\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n        this.setState({error:''});\r\n\r\n        this.props.dispatch(userRegister({\r\n            email:this.state.email,\r\n            password:this.state.password,\r\n            privileges:this.state.privileges\r\n        },this.props.user.users))\r\n        \r\n    }\r\n\r\n    showUsers = (user) =>(\r\n        user.users ? \r\n            user.users.map(item => (\r\n                <tr key={item._id}>\r\n                    <td>{item.email}</td>\r\n                    <td>{item.privileges ? 'administrateur' : 'utilisateur'}</td>\r\n                </tr>\r\n            ))\r\n        :null\r\n    )\r\n\r\n\r\n    render() {\r\n        let user = this.props.user;\r\n        return (\r\n            <div className=\"PageContent\">\r\n                <div className=\"rl_container article\">\r\n                    <form onSubmit={this.submitForm}>\r\n                        <h2>Ajouter un utilisateur</h2>\r\n                        \r\n                        <div className=\"form_element\">\r\n                            <input\r\n                                type=\"email\"\r\n                                placeholder=\"Email\"\r\n                                value={this.state.email}\r\n                                onChange={this.handleInputEmail}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form_element\">\r\n                            <input\r\n                                type=\"password\"\r\n                                placeholder=\"Mot de passe\"\r\n                                value={this.state.password}\r\n                                onChange={this.handleInputPassword}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form_element\">\r\n                            <select\r\n                                value={this.state.privileges}\r\n                                onChange={this.handleInputPrivileges}\r\n                            >\r\n                                <option value=\"0\">utilisateur</option>\r\n                                <option value=\"1\">administrateur</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <button type=\"submit\">Enregistrer</button>\r\n                        <div className=\"error\">\r\n                            {this.state.error}\r\n                        </div>\r\n\r\n                    </form>\r\n                    <div className=\"current_users\">\r\n                        <h4>Utilisateurs existants:</h4>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Email</th>\r\n                                    <th>Privileges</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {this.showUsers(user)}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nfunction mapStateToProps(state){\r\n    return{\r\n        user:state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Register)","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer} from 'recharts';\r\n\r\nimport { getFormulairesBySociete } from '../actions';\r\n\r\n//import CustomDateTick from '../components/customDateTick.js';\r\n\r\n class SocieteGraphContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            toShow: {\r\n                CA: true,\r\n                FA: true,\r\n                CS: true,\r\n                FG: true,\r\n                AF: true,\r\n                EBITDA: true,\r\n                CCT: true,\r\n                CLT: true,\r\n                CF: true,\r\n                Inv: true\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        //this.props.dispatch(getFormulairesBySociete(this.props.match.params.societeId));\r\n        //console.log(\"Searching for formulaire: \"+this.props.match.params.id);\r\n        this.props.dispatch(getFormulairesBySociete(this.props.match.params.id)).then(() => {\r\n            //console.log(\"Formulaires obtenus pour la société: \"+ this.props.match.params.id);\r\n        });\r\n        \r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        //console.log('next props: ' + JSON.stringify(nextProps));\r\n\r\n        let tmpData = nextProps.formulaires;\r\n        //console.log('new data: ' + JSON.stringify(tmpData));\r\n\r\n        for(let elem in tmpData)\r\n        {\r\n            tmpData[elem].date = new Date(tmpData[elem].date).toLocaleDateString();\r\n        }\r\n\r\n        this.setState({...this.state, data:tmpData});\r\n    }\r\n\r\n    handleFieldSelect(e){\r\n        /*this.setState({\r\n            toShow: {\r\n                CA: true,\r\n                FA: true,\r\n                CS: true,\r\n                FG: true,\r\n                AF: true,\r\n                EBITDA: false,\r\n                CCT: false,\r\n                CLT: false,\r\n                CF: false,\r\n                Inv: false\r\n            }\r\n        })*/\r\n\r\n        /*for(elem in this.state.toShow){\r\n\r\n        }*/\r\n\r\n        let tmpState = this.state;\r\n\r\n        tmpState.toShow[e.target.name] = e.target.checked;\r\n\r\n        //console.log(tmpState);\r\n\r\n        this.setState(tmpState);\r\n    }\r\n\r\n    renderFieldSelect(){\r\n\r\n        let formFields = Object.keys(this.state.toShow).map(elem => {\r\n            return(\r\n                <div className=\"CheckboxesGraphElem\" key={elem}>\r\n                    <label>{elem} : </label>\r\n                    <input\r\n                    type=\"checkbox\"\r\n                    name={elem}\r\n                    checked={this.state.toShow[elem]}\r\n                    onChange={(e) => this.handleFieldSelect(e)}\r\n                    />\r\n                </div>\r\n            );\r\n        })\r\n\r\n        return(\r\n            <div className=\"CheckboxesGraph\">\r\n                {formFields}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderGraph(){\r\n\r\n        const linesColor = {\r\n            CA: '#800000',\r\n            FA: '#000075',\r\n            CS: '#f032e6',\r\n            FG: '#3cb44b',\r\n            AF: '#ffe119',\r\n            EBITDA: '#42d4f4',\r\n            CCT: '#f58231',\r\n            CLT: '#0000ff',\r\n            CF: '#000000',\r\n            Inv: '#ff0000'\r\n        }\r\n\r\n        const renderLines = Object.keys(this.state.toShow).map((elem, i) => {\r\n            return(\r\n                this.state.toShow[elem] ? \r\n                    <Line key={i} type=\"monotone\" dataKey={elem} stroke={linesColor[elem]} />\r\n                :\r\n                    null\r\n            );\r\n        })\r\n\r\n        return(\r\n            this.props.formulaires ?\r\n                <div className=\"FormGraph\">\r\n                    <ResponsiveContainer width=\"100%\" aspect={2.2}>\r\n                        <LineChart width={600} height={300} data={this.state.data}\r\n                        margin={{top: 5, right: 30, left: 20, bottom: 5}}>\r\n                            <XAxis dataKey=\"date\" />\r\n                            <YAxis/>\r\n                            <CartesianGrid strokeDasharray=\"3 3\"/>\r\n                            <Tooltip/>\r\n                            <Legend />\r\n                            {renderLines}\r\n                        </LineChart>\r\n                    </ResponsiveContainer>\r\n                </div>\r\n            : null\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"GraphContainer\">\r\n                {this.renderFieldSelect()}\r\n                {this.renderGraph()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        formulaires: state.formulaires.list\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SocieteGraphContainer);","import React, { Component } from 'react'\r\n\r\nclass UserSelector extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email: ''\r\n        }\r\n    }\r\n\r\n    handleInput = (event) => {\r\n        this.setState({email: event.target.value});\r\n    }\r\n\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n    \r\n        //console.log(\"SHOULD RETURN A VALID USER ID\");\r\n        //props.dispatch(getUsers())\r\n\r\n        //CHECK SI L'UTILISATEUR EXISTE, SI OUI, L'AJOUTER A LA LISTE (ID)\r\n\r\n        //AJOUTER CHECK SI L'UTILISATEUR EST DEJA DANS LA LISTE\r\n        /*if(this.props.user.users.some(usr => {\r\n            return usr.email === this.state.formCurAdmin;\r\n        })){\r\n            let tmpState = this.state;\r\n\r\n            tmpState.societe.users.concat(this.props.user.users.filter(usr => {\r\n                return usr.email === this.state.formCurAdmin\r\n            }));\r\n            this.setState(tmpState);\r\n            console.log(\"TMPSTATE: \");\r\n            console.log(tmpState);\r\n        }*/\r\n\r\n        let tmpUsers = this.props.users.filter(usr => {\r\n            return usr.email === this.state.email\r\n        })\r\n\r\n        //console.log(tmpUsers);\r\n\r\n        this.props.returnUser(tmpUsers[0]);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <div className=\"form_element userSelector\">\r\n                    {/*<label>{this.props.children}</label>*/}\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder={`email ${this.props.children}`}\r\n                        id=\"AddUser\"\r\n                        value={this.state.email}\r\n                        onChange={this.handleInput}\r\n                    />\r\n                    <div className=\"Btn\">\r\n                            <a onClick={this.submitForm}>+</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserSelector;","import React from 'react'\r\n\r\nconst UserList = (props) => {\r\n\r\n    const showUsers = (users) =>{\r\n        //console.log(users[0]);\r\n        return(\r\n        users.length > 0 ? \r\n            users.map(item => (\r\n                <tr key={item._id}>\r\n                    <td>{item.email}</td>\r\n                </tr>\r\n            ))\r\n        :null\r\n        );\r\n    }\r\n\r\n    return (\r\n    <div className=\"current_users\">\r\n        <table>\r\n            <thead>\r\n                <tr>\r\n                    <th>{props.header}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.users ? showUsers(props.users) : null}\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default UserList;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getSociete, updateSociete, deleteSociete, getUsers } from '../actions';\r\n\r\nimport UserSelector from '../components/userSelector/userSelector.js';\r\nimport UserList from '../components/userSelector/userList.js';\r\n\r\n class SocieteContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            societe: {\r\n                id: '',\r\n                name: '',\r\n                adresse: '',\r\n                PDC: '',\r\n                admins:[],\r\n                users:[]\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.props.dispatch(getSociete(this.props.match.params.id)).then(() => {\r\n            //console.log(\"DISPATCH ENDED SOCIETE: \");\r\n            //console.log(this.props.societe);\r\n        })\r\n\r\n        this.props.dispatch(getUsers());\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps){\r\n        //console.log(nextProps);\r\n        this.setState({societe:nextProps.societe});\r\n    }\r\n\r\n    handleInput = (event,name) => {\r\n        /*let value = event.target.value;\r\n        this.setState({[name]:value});*/\r\n\r\n        let tmpState = this.state;\r\n        tmpState.societe[name] = event.target.value;\r\n        this.setState(tmpState);\r\n    }\r\n\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n        this.props.dispatch(updateSociete(this.state.societe))\r\n        this.props.history.push('/');\r\n    }\r\n\r\n    addSocAdmin = (user) => {\r\n        //console.log(\"Try to add admin : \" + JSON.stringify(user));\r\n        if(!user || !this.state.societe){return null}\r\n\r\n        //SI L'UTILISATEUR EST PAS ADMIN\r\n        if(!this.state.societe.admins.some(adm => {return adm === user._id})){\r\n            let tmpState = this.state;\r\n            tmpState.societe.admins = tmpState.societe.admins.concat(user._id);\r\n\r\n            //SI L'UTILISATEUR EST USER, LE RETIRER\r\n            //if(this.state.societe.admins.some(usr => {return usr === user._id})){\r\n                tmpState.societe.users = tmpState.societe.users.filter(u => {return u !== user._id});\r\n            //}\r\n            //console.log(tmpState);\r\n            this.setState(tmpState);\r\n        }\r\n    }\r\n\r\n    addSocUser = (user) => {\r\n        //console.log(\"Try to add user : \" + JSON.stringify(user));\r\n        if(!user || !this.state.societe){return null}\r\n        \r\n        //SI L'UTILISATEUR EST NI ADMIN NI USER\r\n        if(\r\n            !(this.state.societe.users.some(usr => {return usr === user._id}))\r\n            && !(this.state.societe.admins.some(adm => {return adm === user._id}))\r\n            ){\r\n            let tmpState = this.state;\r\n            tmpState.societe.users = tmpState.societe.users.concat(user._id);\r\n            //console.log(tmpState);\r\n            this.setState(tmpState);\r\n        }\r\n    }\r\n\r\n    getUsersById = (usersId) => {\r\n        if(!this.props.user.users){return null}\r\n        if(this.props.user.users.length){\r\n            return(this.props.user.users.filter(usr => {\r\n                return(\r\n                    usersId.some(uid => uid === usr._id)\r\n                );\r\n            })\r\n            );\r\n        }\r\n        else{\r\n            return(usersId.some(uid => uid === this.props.user.users._id));\r\n        }\r\n    }\r\n\r\n    deleteSociete = () => {\r\n        if(window.confirm(\"La société et ses formulaires vont être supprimés. \\nÊtes-vous sûr de votre choix? (ce changement est définitif)\")){\r\n            //console.log(this.props.societe)\r\n            /*\r\n            this.props.dispatch(deleteSociete(this.props.societe._id))\r\n            redirect\r\n            */\r\n            this.props.dispatch(deleteSociete(this.props.societe._id));\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n    isUserSocAdmin = () => {\r\n        //console.log(this.props.user)\r\n        if(this.state.societe.admins.some(adm => {return adm === this.props.user.login.id})){\r\n            //console.log(\"USER IS ADMIN\")\r\n            return true;\r\n        }\r\n        else{\r\n            //console.log(\"USER IS USER\")\r\n            return false;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //console.log(...(!this.isUserSocAdmin() ? 'admin' : 'disabled'))\r\n        //console.log(this.state)\r\n        if(this.state.societe.name !== ''){\r\n            return (\r\n                <div className=\"PageContent\">\r\n                    <div className=\"rl_container EditFormContainer EditSociete\">\r\n                    <form onSubmit={this.submitForm}>\r\n                        <div className=\"form_element\">\r\n                            <label>Nom : </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"name\"\r\n                                value={this.state.societe.name}\r\n                                onChange={(event)=>this.handleInput(event,'name')}\r\n                                disabled={(this.isUserSocAdmin() ? '' : \"disabled\")}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form_element\">\r\n                            <label>Adresse : </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"adresse\"\r\n                                value={this.state.societe.adresse}\r\n                                onChange={(event)=>this.handleInput(event,'adresse')}\r\n                                disabled={(this.isUserSocAdmin() ? '' : \"disabled\")}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form_element\">\r\n                            <label>Personne de contact : </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"PDC\"\r\n                                value={this.state.societe.PDC}\r\n                                onChange={(event)=>this.handleInput(event,'PDC')}\r\n                                disabled={(this.isUserSocAdmin() ? '' : \"disabled\")}\r\n                            />\r\n                        </div>\r\n\r\n                        {/* AJOUT D'ADMINS, AJOUT D'UTILISATEURS */}\r\n                        {this.isUserSocAdmin() ? \r\n                        <UserSelector \r\n                            users={this.props.user.users} \r\n                            returnUser={this.addSocAdmin}>administrateur</UserSelector>\r\n                        : null}\r\n                        <UserList \r\n                            users={this.getUsersById(this.state.societe.admins)} \r\n                            header=\"Administrateurs\"\r\n                            disabled={(this.isUserSocAdmin() ? 'enabled' : \"disabled\")}/>\r\n                        {this.isUserSocAdmin() ? \r\n                        <UserSelector \r\n                            users={this.props.user.users} \r\n                            returnUser={this.addSocUser}>utilisateur</UserSelector>\r\n                        : null}\r\n                        <UserList \r\n                            users={this.getUsersById(this.state.societe.users)} \r\n                            header=\"Utilisateurs\"\r\n                            disabled={(this.isUserSocAdmin() ? 'enabled' : \"disabled\")}/>\r\n\r\n                        {this.isUserSocAdmin() ? \r\n                        <div className=\"Buttons\">\r\n                            <div className=\"Btn\">\r\n                                <a onClick={this.submitForm}>Enregistrer</a>\r\n                            </div>\r\n\r\n                            <div className=\"Btn\">\r\n                                <a onClick={this.deleteSociete}>Supprimer la société</a>\r\n                            </div> \r\n                        </div>\r\n                        : null}\r\n                    </form>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n        else{return null}\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        //formulaires: state.formulaires\r\n        societe: state.societes.societe\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SocieteContainer);","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\n\r\n class CsvTestContainer extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedFile: null,\r\n            loaded: 0,\r\n            societeId: '5c4f28897e19e41c4c4fc80d'\r\n        }\r\n    }\r\n\r\n    handleselectedFile = (event) => {\r\n        this.setState({\r\n            selectedFile: event.target.files[0],\r\n            loaded: 0,\r\n            societeId: '5c4f28897e19e41c4c4fc80d'\r\n        })\r\n    }\r\n\r\n    submitForm = (e) => {\r\n        e.preventDefault();\r\n        //console.log(\"SHOULD UPLOAD CSV\");\r\n\r\n        const data = new FormData();\r\n        data.append('file', this.state.selectedFile, this.state.selectedFile.name)\r\n        data.append('societeId', this.state.societeId)\r\n\r\n        axios\r\n        .post('/api/CSVFormulaires', data, {\r\n            onUploadProgress: ProgressEvent => {\r\n            this.setState({\r\n                loaded: (ProgressEvent.loaded / ProgressEvent.total) * 100,\r\n            })\r\n            },\r\n        })\r\n        .then(res => {\r\n            //console.log(res)\r\n        })\r\n    }\r\n\r\n    getFormulairesCsv = () => {\r\n        axios.get('/api/CSVformulairesBySociete', {\r\n            params: {\r\n                id: this.state.societeId,\r\n                order: 'asc'\r\n            }\r\n        }).then(response => {\r\n            //this.props.history.push()\r\n            //console.log(response);\r\n        });\r\n    \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"rl_container article\">\r\n                <form onSubmit={this.submitForm}>\r\n                    <h2>Uploader des sociétés par CSV</h2>\r\n                    <input type=\"file\" name=\"file\" onChange={this.handleselectedFile}/>\r\n                    <button type=\"submit\">Upload</button>\r\n                </form>\r\n                <p>{Math.round(this.state.loaded, 2)} % uploadé</p>\r\n                <p><button onClick={this.getFormulairesCsv}>Get formulaires CSV</button></p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CsvTestContainer;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport FontAwesome from 'react-fontawesome';\nimport { connect } from 'react-redux';\n\nconst SidenavItems = (props, {user}) => {\n\n    const items = [\n        {\n            type:'navItem',\n            icon:'home',\n            text:'Accueil',\n            link:'/',\n            restricted:true\n        },\n        {\n            type:'navItem',\n            icon:'user-plus',\n            text:'Nouvel utilisateur (admin)',\n            link:'/user/register',\n            restricted:true,\n            admin:true\n        },\n        {\n            type:'navItem',\n            icon:'sign-in',\n            text:'Connexion',\n            link:'/login',\n            restricted:false,\n            exclude:true\n        },\n        {\n            type:'navItem',\n            icon:'sign-out',\n            text:'Déconnexion',\n            link:'/logout',\n            restricted:true\n        },\n        {\n            type:'navItem',\n            icon:'file-text-o',\n            text:'Nouvelle société',\n            link:'/societe/add',\n            restricted:true\n        }\n    ]\n\n    const element = (item,i) => (\n        <div key={i} className={item.type}>\n            <Link to={item.link}\n            onClick={props.onHideNav}>\n                <FontAwesome name={item.icon}/>\n                {item.text}\n            </Link>\n        </div>\n    )\n\n    const showItems = () => (\n        props.user.login ?\n            items.map((item,i)=>{\n                if(props.user.login.isAuth) {\n                    //console.log(props.user)\n                    if(!item.exclude){\n                        if(props.user.login.privileges || !item.admin)\n                        {\n                            return element(item,i);\n                        }\n                        else{\n                            //return element(item,i);\n                            return null;\n                        }\n                        \n                    }\n                    else{\n                        return null;\n                    }\n                    /*return !item.exclude ?\n                        element(item,i)\n                    :null*/\n                } else {\n                    return !item.restricted ?\n                        element(item,i)\n                    :null\n                }\n            })\n        :null\n        /*items.map((item,i)=>{\n            return element(item,i);\n        })*/\n    )\n\n    return (\n        <div>\n            {showItems()}\n        </div>\n    );\n};\n\nfunction mapStateToProps(state){\n    return{\n        user: state.user\n    }\n}\n\nexport default connect(mapStateToProps)(SidenavItems)","import React from 'react';\r\nimport SideNav from 'react-simple-sidenav';\r\nimport SidenavItems from './sidenav_items'\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n       <SideNav\r\n            showNav={props.showNav}\r\n            onHideNav={props.onHideNav}\r\n            navStyle={{\r\n                background: '#36616C',\r\n                width:'50%',\r\n                maxWidth:'15em'\r\n            }}\r\n       >\r\n           <SidenavItems onHideNav={props.onHideNav}/>\r\n           <div></div>\r\n        </SideNav>\r\n    );\r\n};\r\n\r\nexport default Nav;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ConnectedUser = (props, {user}) => {\r\n    return (\r\n        <div className=\"ConnectedUser\">\r\n            {props.user.login ? props.user.login.email : null}\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction mapStateToProps(state){\r\n    return{\r\n        user: state.user\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ConnectedUser)","import React, { Component } from 'react';\r\nimport FontAwesome from 'react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Nav from './sidenav/sidenav.js';\r\nimport ConnectedUser from './connectedUser.js';\r\n\r\nclass Header extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            showNav:false\r\n        }\r\n    }\r\n\r\n    onHideNav = () => {\r\n        this.setState({showNav:false});\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n            <header>\r\n                <div className=\"open_nav\">\r\n                    <FontAwesome \r\n                    name=\"bars\"\r\n                    onClick={() => this.setState({showNav:true})}\r\n                    style={{\r\n                        color:'lightGray',\r\n                        padding:'8pt',\r\n                        cursor:'pointer'\r\n                    }} />\r\n                </div>\r\n                    <ConnectedUser />\r\n                    <Link to=\"/\" className=\"logo\">\r\n                        Digitech TP\r\n                    </Link>\r\n            </header>\r\n            <Nav \r\n                showNav={this.state.showNav}\r\n                onHideNav={() => this.onHideNav()} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;","import React from 'react'\r\n\r\nimport Header from '../components/header/header.js';\r\n\r\nconst Layout = (props) => {\r\n  return (\r\n    <div>\r\n        <Header />\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { auth } from '../actions';\r\n\r\nexport default function(ComposedClass, reload){\r\n    class AuthenticationCheck extends Component {\r\n\r\n        constructor(props){\r\n            super(props);\r\n\r\n            this.state = {\r\n                loading: true\r\n            }\r\n        }\r\n\r\n        componentWillMount(){\r\n            this.props.dispatch(auth());\r\n        }\r\n\r\n        componentWillReceiveProps(nextProps){\r\n            this.setState({loading:false})\r\n\r\n            if(!nextProps.user.login.isAuth){\r\n                if(reload){\r\n                    this.props.history.push('/login');\r\n                }\r\n            } \r\n            else {\r\n                if(reload === false){\r\n                    this.props.history.push('/');\r\n                }\r\n            }\r\n        }\r\n\r\n        render(){\r\n            if(this.state.loading){\r\n                return(\r\n                    <div className=\"loader\">Chargement</div>\r\n                );\r\n            }\r\n            return(\r\n                <ComposedClass {...this.props} user={this.props.user}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    function  mapStateToProps(state) {\r\n        return {\r\n            user: state.user\r\n        };\r\n    }\r\n    return connect(mapStateToProps)(AuthenticationCheck);\r\n}","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport HomeContainer from './containers/homeContainer.js';\nimport LoginContainer from './containers/loginContainer.js';\nimport Logout from './components/logout.js';\nimport AddSocieteContainer from './containers/addSociete.js';\nimport EditFormulaireContainer from './containers/editFormulaireContainer.js';\nimport AddFormulaireContainer from './containers/addFormulaireContainer.js';\nimport Register from './containers/register.js';\nimport SocieteGraphContainer from './containers/societeGraphContainer.js';\nimport SocieteContainer from './containers/societeContainer.js';\nimport CsvTestContainer from './containers/csvTestContainer.js';\n/*import BookView from './components/Books'\nimport Login from './containers/Admin/login'\nimport User from './components/Admin'\nimport AddReview from './containers/Admin/add'\nimport UserPosts from './components/Admin/userPosts'\nimport EditReview from './containers/Admin/edit';\nimport Register from './containers/Admin/register';\nimport Logout from './components/Admin/logout';*/\n\nimport Layout from './hoc/layout.js';\nimport Auth from './hoc/auth.js';\n\nconst Routes = () => {\n    return (\n        <Layout>\n            <Switch>\n                <Route path=\"/\" exact component={Auth(HomeContainer, true)} />\n                <Route path=\"/login\" exact component={Auth(LoginContainer, false)} />\n                <Route path=\"/logout\" exact component={Auth(Logout, true)} />\n                <Route path=\"/user/register\" exact component={Auth(Register, true)} />\n                <Route path=\"/societe/add\" exact component={Auth(AddSocieteContainer, true)} />\n                <Route path=\"/societe/:id\" exact component={Auth(SocieteContainer, true)} />\n                <Route path=\"/formulaire/:id\" exact component={Auth(EditFormulaireContainer, true)} />\n                <Route path=\"/addFormulaires/:id\" exact component={Auth(AddFormulaireContainer, true)} />\n                <Route path=\"/societeGraph/:id\" exact component={Auth(SocieteGraphContainer, true)} />\n                <Route path=\"/uploadCsvSociete\" exact component={Auth(CsvTestContainer, true)} />\n            </Switch>\n        </Layout>\n        /*<Layout>\n            <Switch>\n                <Route path=\"/\" exact component={Auth(Home,null)}/>\n                <Route path=\"/login\" exact component={Auth(Login,false)}/>\n                <Route path=\"/user/logout\" exact component={Auth(Logout,true)}/>\n                <Route path=\"/user\" exact component={Auth(User,true)}/>\n                <Route path=\"/user/add\" exact component={Auth(AddReview,true)}/>\n                <Route path=\"/user/register\" exact component={Auth(Register,true)}/>\n                <Route path=\"/user/edit-post/:id\" exact component={Auth(EditReview,true)}/>\n                <Route path=\"/books/:id\" exact component={Auth(BookView,null)}/>\n                <Route path=\"/user/user-reviews\" exact component={Auth(UserPosts,true)}/>\n            </Switch>\n        </Layout>*/\n    );\n};\n\nexport default Routes;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nimport reducers from './reducers'; \nimport Routes from './routes';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware,ReduxThunk)(createStore)\n\nReactDOM.render(\n    <Provider store={createStoreWithMiddleware(reducers)}>\n        <BrowserRouter>\n            <Routes/>\n        </BrowserRouter>\n    </Provider>\n    ,document.getElementById('root'));"],"sourceRoot":""}