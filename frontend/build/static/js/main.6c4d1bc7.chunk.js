(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){e.exports=a(314)},314:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(65),o=a.n(l),i=a(22),s=a(21),c=a(41),u=a(140),m=a.n(u),p=a(141),d=a.n(p),h=a(11),f=Object(c.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":case"USER_AUTH":return Object(h.a)({},e,{login:t.payload});case"GET_USER_POSTS":return Object(h.a)({},e,{userPosts:t.payload});case"GET_USER":return Object(h.a)({},e,{users:t.payload});case"USER_REGISTER":return Object(h.a)({},e,{register:t.payload.success,users:t.payload.users});default:return e}},societes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SOCIETES":case"CLEAR_SOCIETES":return Object(h.a)({},e,{list:t.payload});case"ADD_SOCIETE":case"CLEAR_NEWSOCIETE":return Object(h.a)({},e,{newSociete:t.payload});case"UPDATE_SOCIETE":return Object(h.a)({},e,{updateSociete:t.payload.success,societe:t.payload.doc});case"DELETE_SOCIETE":return Object(h.a)({},e,{deleted:t.payload});default:return e}},formulaires:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FORMULAIRESBYSOCIETE":return Object(h.a)({},e,{list:t.payload});case"GET_FORMULAIRE":return Object(h.a)({},e,{formulaire:t.payload});case"CLEAR_FORMULAIRE":return Object(h.a)({},e,{list:t.payload});case"ADD_FORMULAIRE":case"CLEAR_NEWFORMULAIRE":return Object(h.a)({},e,{newFormulaire:t.payload});case"UPDATE_FORMULAIRE":return Object(h.a)({},e,{updateFormulaire:t.payload.success,formulaire:t.payload.doc});case"DELETE_FORMULAIRE":return Object(h.a)({},e,{deleted:t.payload});default:return e}}}),E=a(16),v=a(17),b=a(19),C=a(18),g=a(20),y=a(153),O=a(25),I=a.n(O);function S(e,t){return{type:"GET_FORMULAIRESBYSOCIETE",payload:I.a.get("/api/formulairesBySociete",{params:{id:e,order:t}}).then(function(e){return e.data})}}function F(e){return{type:"ADD_FORMULAIRE",payload:I.a.post("/api/formulaire",e).then(function(e){return e.data})}}function j(e){var t,a=function(t){console.log("SHOULD EDIT FORMULAIRE: "+t),e.history.push("/formulaire/".concat(t))};return r.a.createElement("div",null,r.a.createElement("div",null,"Adresse: ",e.societe[0].adresse||"Non disponible"),r.a.createElement("div",null,"Personne de contact: ",e.societe[0].PDC||"Non disponible"),r.a.createElement(i.b,{to:"/societeGraph/".concat(e.societe[0]._id)},r.a.createElement("button",null,"Voir le graph")),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("td",null,r.a.createElement(i.b,{to:"/addFormulaires/".concat(e.societe[0]._id)},r.a.createElement("button",null,"Nouveau formulaire"))))),r.a.createElement("tbody",null,(t=e.formulaires).list?t.list.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,new Date(e.date).toLocaleDateString()),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return a(e._id)}},"Editer")))}):null)))}var A=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).handleSelectSociete=function(e){a.setState({selectedSocieteId:e.target.value}),a.props.dispatch(S(e.target.value,"desc"))},a.renderSocietes=function(e){return e.list?e.list.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}):null},a.getSelectedSociete=function(){return a.props.societes.list?a.props.societes.list.filter(function(e){return e._id===a.state.selectedSocieteId}):null},a.state={selectedSocieteId:""},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e;this.props.user&&(this.props.dispatch((e=this.props.user.login.id,{type:"GET_SOCIETES",payload:I.a.get("/api/societesByUser",{params:{id:e}}).then(function(e){return e.data})})),console.log("USERS ID: "+this.props.user.login.id))}},{key:"render",value:function(){return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"societeSelect"},"Choisissez la soci\xe9t\xe9 : "),r.a.createElement("select",{id:"societeSelect",value:this.state.selectedSocieteId,onChange:this.handleSelectSociete},r.a.createElement("option",{value:""}),this.renderSocietes(this.props.societes))),""!==this.state.selectedSocieteId?r.a.createElement(j,Object.assign({formulaires:this.props.formulaires,societe:this.getSelectedSociete()},this.props)):null)}}]),t}(n.Component);var N=Object(s.b)(function(e){return{societes:e.societes,formulaires:e.formulaires}})(A),_=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.submitForm=function(e){e.preventDefault(),a.props.dispatch(function(e){var t=e.email,a=e.password;return{type:"USER_LOGIN",payload:I.a.post("/api/login",{email:t,password:a}).then(function(e){return e.data})}}(a.state))},a.state={email:"",password:"",error:"",success:!1},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.user.login.isAuth&&this.props.history.push("/")}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Log in here"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Enter your mail",value:this.state.email,onChange:this.handleInputEmail})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Enter your password",value:this.state.password,onChange:this.handleInputPassword})),r.a.createElement("button",{type:"submit"},"Log in"),r.a.createElement("div",{className:"error"},e.login?r.a.createElement("div",null,e.login.message):null)))}}]),t}(n.Component);var D=Object(s.b)(function(e){return{user:e.user}})(_),T=function(e){I.a.get("/api/logout").then(function(t){setTimeout(function(){e.history.push("/")},2e3)});return r.a.createElement("div",{className:"logout_container"},"D\xe9connexion en cours")},k=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderFormulaires(this.props.formulaires))}}]),t}(n.Component);Object(s.b)(function(e){return{}})(k);var w=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).submitForm=function(e){var t;e.preventDefault(),a.props.dispatch((t=Object(h.a)({},a.state.formData,{admins:[a.props.user.login.id]}),{type:"ADD_SOCIETE",payload:I.a.post("/api/societe",t).then(function(e){return e.data})}))},a.handleChange=function(e,t){var n=Object(h.a)({},a.state.formData);n[t]=e.target.value,a.setState({formData:n})},a.state={formData:{name:"",adresse:"",PDC:""}},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"rl_container article"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Nouvelle soci\xe9t\xe9"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Nom",value:this.state.formData.name,onChange:function(t){return e.handleChange(t,"name")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Adresse",value:this.state.formData.adresse,onChange:function(t){return e.handleChange(t,"adresse")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"text",placeholder:"Personne de contact",value:this.state.formData.PDC,onChange:function(t){return e.handleChange(t,"PDC")}})),r.a.createElement("button",{type:"submit"},"Enregistrer")))}}]),t}(n.Component);var R=Object(s.b)(function(e){return{societe:e.societes}})(w),L=a(53),U=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).convertDateToHtml=function(e){var t=new Date(e),a=("0"+(t.getMonth()+1)).slice(-2),n=t.getDate();return t.getFullYear()+"-"+a+"-"+n},a.handleNumInput=function(e,t){var n=""!==e.target.value?parseInt(e.target.value):"";a.setState(Object(L.a)({},t,n))},a.handleDateInput=function(e,t){a.setState(Object(L.a)({},t,e.target.value))},a.submitForm=function(e){e.preventDefault();var t=Object(h.a)({},a.state);for(var n in t.date=new Date(t.date).toJSON(),t)""===t[n]&&delete t[n];a.props.saveFormulaire(t)},e.formulaire?a.state={_id:e.formulaire._id,societeId:e.formulaire.societeId,date:a.convertDateToHtml(e.formulaire.date),CA:e.formulaire.CA,FA:e.formulaire.FA,CS:e.formulaire.CS,FG:e.formulaire.FG,AF:e.formulaire.AF,EBITDA:e.formulaire.EBITDA,CCT:e.formulaire.CCT,CLT:e.formulaire.CLT,CF:e.formulaire.CF,Inv:e.formulaire.Inv}:a.state={_id:"",societeId:a.props.societeId,date:"",CA:"",FA:"",CS:"",FG:"",AF:"",EBITDA:"",CCT:"",CLT:"",CF:"",Inv:""},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"formulaire ",this.state._id),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{id:"dateIn",type:"date",value:this.state.date,onChange:function(t){return e.handleDateInput(t,"date")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Chiffre d'affaire",value:this.state.CA,onChange:function(t){return e.handleNumInput(t,"CA")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Frais d'achats",value:this.state.FA,onChange:function(t){return e.handleNumInput(t,"FA")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Charges salariales",value:this.state.CS,onChange:function(t){return e.handleNumInput(t,"CS")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Frais g\xe9n\xe9raux",value:this.state.FG,onChange:function(t){return e.handleNumInput(t,"FG")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Autres frais",value:this.state.AF,onChange:function(t){return e.handleNumInput(t,"AF")}})),r.a.createElement("hr",null),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"EBITDA",value:this.state.EBITDA,onChange:function(t){return e.handleNumInput(t,"EBITDA")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Cr\xe9dits court termes",value:this.state.CCT,onChange:function(t){return e.handleNumInput(t,"CCT")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Cr\xe9dits long termes",value:this.state.CLT,onChange:function(t){return e.handleNumInput(t,"CLT")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Cashflow",value:this.state.CF,onChange:function(t){return e.handleNumInput(t,"CF")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Investissements",value:this.state.Inv,onChange:function(t){return e.handleNumInput(t,"Inv")}})),r.a.createElement("button",{type:"submit"},"Enregistrer")))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).sendUpdateFormulaire=function(e){var t;e._id?a.props.dispatch((t=e,{type:"UPDATE_FORMULAIRE",payload:I.a.post("/api/updateFormulaire",t).then(function(e){return e.data})})):a.props.dispatch(F(e)),a.props.history.push("/")},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e;this.props.dispatch((e=this.props.match.params.id,{type:"GET_FORMULAIRE",payload:I.a.get("/api/getFormulaire",{params:{id:e}}).then(function(e){return e.data})})).then(function(){})}},{key:"componentWillReceiveProps",value:function(e){}},{key:"SaveAllChanges",value:function(){}},{key:"renderFormulaire",value:function(){return this.props.formulaire?r.a.createElement(U,{key:this.props.formulaire._id,societeId:this.props.formulaire.societeId,saveFormulaire:this.sendUpdateFormulaire,formulaire:this.props.formulaire}):null}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderFormulaire())}}]),t}(n.Component);var x=Object(s.b)(function(e){return{formulaire:e.formulaires.formulaire}})(G),P=function(e){var t=function(t,a){e.handleNum(e.formId,t.target.value,a)};return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.a.createElement("h2",null,"formulaire ",e._id),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{id:"dateIn",type:"date",value:e.date,onChange:function(t){return function(t,a){e.handleDate(e.formId,t.target.value,a)}(t,"date")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Chiffre d'affaire",value:e.CA,onChange:function(e){return t(e,"CA")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Frais d'achats",value:e.FA,onChange:function(e){return t(e,"FA")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Charges salariales",value:e.CS,onChange:function(e){return t(e,"CS")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Frais g\xe9n\xe9raux",value:e.FG,onChange:function(e){return t(e,"FG")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Autres frais",value:e.AF,onChange:function(e){return t(e,"AF")}})),r.a.createElement("hr",null),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"EBITDA",value:e.EBITDA,onChange:function(e){return t(e,"EBITDA")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Cr\xe9dits court termes",value:e.CCT,onChange:function(e){return t(e,"CCT")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Cr\xe9dits long termes",value:e.CLT,onChange:function(e){return t(e,"CLT")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Cashflow",value:e.CF,onChange:function(e){return t(e,"CF")}})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"number",placeholder:"Investissements",value:e.Inv,onChange:function(e){return t(e,"Inv")}}))))},M=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).handleNumInput=function(e,t,n){var r=""!==t?parseInt(t):"",l=a.state;l.formulaires[e][n]=r,a.setState(l)},a.handleDateInput=function(e,t,n){console.log("NEW DATE IS: "+t);var r=a.state;r.formulaires[e][n]=t,a.setState(r)},a.convertDateToHtml=function(e){var t=new Date(e),a=("0"+(t.getMonth()+1)).slice(-2),n=t.getDate();return t.getFullYear()+"-"+a+"-"+n},a.sendUpdateFormulaire=function(e){var t=e;for(var n in t.date=new Date(t.date).toJSON(),t)""===t[n]&&delete t[n];a.props.dispatch(F(t)),a.props.history.push("/")},a.SaveAllChanges=function(){for(var e in a.state.formulaires)console.log("FORMULAIRE DATA TO ADD: "+a.state.formulaires[e]),a.sendUpdateFormulaire(a.state.formulaires[e])},a.AddFormulaire=function(){var e={societeId:a.props.match.params.id,date:"",CA:"",FA:"",CS:"",FG:"",AF:"",EBITDA:"",CCT:"",CLT:"",CF:"",Inv:""},t=a.state;t.formulaires.push(e),a.setState(t),console.log(a.state)},a.state={formulaires:[{societeId:a.props.match.params.id,date:"",CA:"",FA:"",CS:"",FG:"",AF:"",EBITDA:"",CCT:"",CLT:"",CF:"",Inv:""}]},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){}},{key:"renderFormulaires",value:function(){var e=this;return this.state.formulaires.map(function(t,a){return r.a.createElement(P,Object.assign({key:a,formId:a},t,{handleNum:e.handleNumInput,handleDate:e.handleDateInput}))})}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderFormulaires(),r.a.createElement("button",{onClick:this.SaveAllChanges},"Enregistrer"),r.a.createElement("button",{onClick:this.AddFormulaire},"Nouveau formulaire"))}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(b.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:"",privileges:0,error:""},a.handleInputEmail=function(e){a.setState({email:e.target.value})},a.handleInputPassword=function(e){a.setState({password:e.target.value})},a.handleInputPrivileges=function(e){var t="1"===e.target.value?1:0;a.setState({privileges:t})},a.submitForm=function(e){e.preventDefault(),a.setState({error:""}),a.props.dispatch(function(e,t){var a=I.a.post("/api/register",e);return function(e){a.then(function(a){var n=a.data,r=n.success?[].concat(Object(y.a)(t),[n.user]):t,l={success:n.success,users:r};e({type:"USER_REGISTER",payload:l})})}}({email:a.state.email,password:a.state.password,privileges:a.state.privileges},a.props.user.users))},a.showUsers=function(e){return e.users?e.users.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.privileges))}):null},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"GET_USER",payload:I.a.get("/api/users").then(function(e){return e.data})})}},{key:"componentWillReceiveProps",value:function(e){!1===e.user.register?this.setState({error:"Error,try again"}):this.setState({email:"",password:"",privileges:0})}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",{className:"rl_container"},r.a.createElement("form",{onSubmit:this.submitForm},r.a.createElement("h2",null,"Ajouter un utilisateur"),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"email",placeholder:"Email",value:this.state.email,onChange:this.handleInputEmail})),r.a.createElement("div",{className:"form_element"},r.a.createElement("input",{type:"password",placeholder:"Mot de passe",value:this.state.password,onChange:this.handleInputPassword})),r.a.createElement("div",{className:"form_element"},r.a.createElement("select",{value:this.state.privileges,onChange:this.handleInputPrivileges},r.a.createElement("option",{value:"0"},"utilisateur"),r.a.createElement("option",{value:"1"},"administrateur"))),r.a.createElement("button",{type:"submit"},"Enregistrer"),r.a.createElement("div",{className:"error"},this.state.error)),r.a.createElement("div",{className:"current_users"},r.a.createElement("h4",null,"Utilisateurs existants:"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Privileges"))),r.a.createElement("tbody",null,this.showUsers(e)))))}}]),t}(n.PureComponent);var W=Object(s.b)(function(e){return{user:e.user}})(B),H=a(316),J=a(319),Y=a(311),K=a(312),z=a(318),V=a(315),q=a(135),Q=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).state={toShow:{CA:!0,FA:!0,CS:!0,FG:!0,AF:!0,EBITDA:!0,CCT:!0,CLT:!0,CF:!0,Inv:!0}},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.dispatch(S(this.props.match.params.id)).then(function(){console.log("Formulaires obtenus pour la soci\xe9t\xe9: "+e.props.match.params.id)})}},{key:"componentWillReceiveProps",value:function(e){var t=e.formulaires;for(var a in t)t[a].date=new Date(t[a].date).toLocaleDateString();this.setState(Object(h.a)({},this.state,{data:t}))}},{key:"handleFieldSelect",value:function(e){var t=this.state;t.toShow[e.target.name]=e.target.checked,console.log(t),this.setState(t)}},{key:"renderFieldSelect",value:function(){var e=this;return Object.keys(this.state.toShow).map(function(t){return r.a.createElement("div",{key:t},r.a.createElement("label",null,t," : "),r.a.createElement("input",{type:"checkbox",name:t,checked:e.state.toShow[t],onChange:function(t){return e.handleFieldSelect(t)}}))})}},{key:"renderGraph",value:function(){var e=this,t={CA:"#800000",FA:"#000075",CS:"#f032e6",FG:"#3cb44b",AF:"#ffe119",EBITDA:"#42d4f4",CCT:"#f58231",CLT:"#0000ff",CF:"#000000",Inv:"#ff0000"},a=Object.keys(this.state.toShow).map(function(a,n){return e.state.toShow[a]?r.a.createElement(H.a,{key:n,type:"monotone",dataKey:a,stroke:t[a]}):null});return this.props.formulaires?r.a.createElement("div",null,r.a.createElement(J.a,{width:600,height:300,data:this.state.data,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(Y.a,{dataKey:"date"}),r.a.createElement(K.a,null),r.a.createElement(z.a,{strokeDasharray:"3 3"}),r.a.createElement(V.a,null),r.a.createElement(q.a,null),a)):null}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderFieldSelect(),this.renderGraph())}}]),t}(n.Component);var X=Object(s.b)(function(e){return{formulaires:e.formulaires.list}})(Q),Z=a(73),$=a.n(Z),ee=a(152),te=a.n(ee);var ae=Object(s.b)(function(e){return{user:e.user}})(function(e,t){t.user;var a=[{type:"navItem",icon:"home",text:"Accueil",link:"/",restricted:!0},{type:"navItem",icon:"user-plus",text:"Nouvel utilisateur (admin)",link:"/user/register",restricted:!0},{type:"navItem",icon:"sign-in",text:"Connexion",link:"/login",restricted:!1,exclude:!0},{type:"navItem",icon:"sign-out",text:"D\xe9connexion",link:"/logout",restricted:!0},{type:"navItem",icon:"file-text-o",text:"Nouvelle soci\xe9t\xe9",link:"/societe/add",restricted:!0}];return r.a.createElement("div",null,a.map(function(t,a){return function(t,a){return r.a.createElement("div",{key:a,className:t.type},r.a.createElement(i.b,{to:t.link,onClick:e.onHideNav},r.a.createElement($.a,{name:t.icon}),t.text))}(t,a)}))}),ne=function(e){return r.a.createElement(te.a,{showNav:e.showNav,onHideNav:e.onHideNav,navStyle:{background:"#222",width:"50%",maxWidth:"15em"}},r.a.createElement(ae,{onHideNav:e.onHideNav}))},re=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(b.a)(this,Object(C.a)(t).call(this,e))).onHideNav=function(){a.setState({showNav:!1})},a.state={showNav:!1},a}return Object(g.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement(ne,{showNav:this.state.showNav,onHideNav:function(){return e.onHideNav()}}),r.a.createElement("div",{className:"open_nav"},r.a.createElement($.a,{name:"bars",onClick:function(){return e.setState({showNav:!0})},style:{color:"lightGray",padding:"8pt",cursor:"pointer"}})),r.a.createElement(i.b,{to:"/",className:"logo"},"Digitech TP"))}}]),t}(n.Component),le=function(e){return r.a.createElement("div",null,r.a.createElement(re,null),e.children)},oe=function(e,t){var a=function(a){function n(e){var t;return Object(E.a)(this,n),(t=Object(b.a)(this,Object(C.a)(n).call(this,e))).state={loading:!0},t}return Object(g.a)(n,a),Object(v.a)(n,[{key:"componentWillMount",value:function(){this.props.dispatch({type:"USER_AUTH",payload:I.a.get("/api/auth").then(function(e){return e.data})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({loading:!1}),e.user.login.isAuth?!1===t&&this.props.history.push("/"):t&&this.props.history.push("/login")}},{key:"render",value:function(){return this.state.loading?r.a.createElement("div",{className:"loader"},"Chargement"):r.a.createElement(e,Object.assign({},this.props,{user:this.props.user}))}}]),n}(n.Component);return Object(s.b)(function(e){return{user:e.user}})(a)},ie=function(){return r.a.createElement(le,null,r.a.createElement(i.d,null,r.a.createElement(i.c,{path:"/",exact:!0,component:oe(N,!0)}),r.a.createElement(i.c,{path:"/login",exact:!0,component:oe(D,!1)}),r.a.createElement(i.c,{path:"/logout",exact:!0,component:oe(T,!0)}),r.a.createElement(i.c,{path:"/user/register",exact:!0,component:oe(W,!0)}),r.a.createElement(i.c,{path:"/societe/add",exact:!0,component:oe(R,!0)}),r.a.createElement(i.c,{path:"/formulaire/:id",exact:!0,component:oe(x,!0)}),r.a.createElement(i.c,{path:"/addFormulaires/:id",exact:!0,component:oe(M,!0)}),r.a.createElement(i.c,{path:"/societeGraph/:id",exact:!0,component:oe(X,!0)})))},se=Object(c.a)(m.a,d.a)(c.d);o.a.render(r.a.createElement(s.a,{store:se(f)},r.a.createElement(i.a,null,r.a.createElement(ie,null))),document.getElementById("root"))}},[[154,2,1]]]);
//# sourceMappingURL=main.6c4d1bc7.chunk.js.map